[next] [up] [previous]

                                 Gnuplot FAQ

Contents

   * Contents
   * Meta - Questions
        o Where do I get this document?
        o Where do I send comments about this document?
   * General Information
        o What is gnuplot?
        o How did it come about and why is it called gnuplot?
        o Does gnuplot have anything to do with the FSF and the GNU project?
        o What does gnuplot offer?
        o Is gnuplot suitable for batch processing?
        o Can I run gnuplot on my computer?
        o Legalize it!
        o Is gnuplot Y2K compliant?
   * Setting it up
        o What is the current version of gnuplot?
        o Where can I get gnuplot?
        o How do I get gnuplot to compile on my system?
        o What documentation is there, and how do I get it?
   * Working with it.
        o How do I get help?
        o How do I print out my graphs?
        o How do I include my graphs in <word processor>?
        o How do I post-process a gnuplot graph?
        o How do I change symbol size, line thickness and the like?
        o How do I generate plots in the GIF format?
        o Can I animate my graphs?
        o How do I plot implicit defined graphs?
   * Wanted features?
        o What's new in gnuplot 3.7?
        o Does gnuplot have hidden line removal?
        o Does gnuplot support bar-charts/histograms/boxes?
        o Does gnuplot support pie charts?
        o Does gnuplot quarterly time charts?
        o Does gnuplot support multiple y-axes on a single plot?
        o Can I put multiple pages on one page?
        o Can I put both data files and commands into a single file?
        o Can I put Greek letters and super/subscripts into my labels?
        o Can I do 1:1 scaling of axes?
        o Can I put tic marks for x and y axes into 3d plots?
        o Does gnuplot support a driver for <graphics format>?
        o Can I put different text sizes into my plots?
        o How do I modify gnuplot, and apply 'patches'?
        o How do I skip data points?
        o How do I plot every nth point?
        o How do I plot a vertical line?
   * Miscellaneous
        o I've found a bug, what do I do?
        o Can I use gnuplot routines for my own programs?
        o What extensions have people made to gnuplot? Where can I get them?
        o Can I do heavy-duty data processing with gnuplot?
        o I have ported gnuplot to another system, or patched it. What do I
          do?
        o I want to help in developing the next version of gnuplot. What can
          I do?
   * Making life easier
        o How do I plot two functions in non-overlapping regions?
        o How do I run my data through a filter before plotting?
        o How do I make it easier to use gnuplot with LaTeX?
        o How do I save and restore my settings?
        o How do I plot lines (not grids) using splot?
        o How do I plot a function f(x,y) which is bounded by other
          functions in the x-y plain?
        o How do I get rid of <feature in a plot>?
        o How do I call gnuplot from my own programs?
        o What if I need h-bar (Planck's constant)?
   * Known Problems
        o Gnuplot is not plotting any points under X11! How come?
        o My isoline data generated by a Fortran program is not handled
          correctly. What can I do?
        o Why does gnuplot ignore my very small numbers?
        o Gnuplot is plotting nothing when run via gnuplot <filename>! What
          can I do?
        o My formulas are giving me nonsense results! What's going on?
        o My Linux gnuplot complains about a missing gnuplot_x11. What is
          wrong?
        o Set output 'filename' isn't outputting everything it should!
        o When using the LATEX-terminal, there is an error during the
          LATEX-run!
   * Credits

Meta - Questions

Where do I get this document?

This document is posted about once every two weeks to the newsgroups
comp.graphics.apps.gnuplot and news.answers . Its newest (plaintext) version
is available via anonymous ftp from ftp.ucc.ie in
/pub/gnuplot/faq/gnuplot-faq.txt .

If you have access to the WWW, you can get the newest version of this
document from http://ftp.ucc.ie/pub/gnuplot/faq/gnuplot-faq.html .

Where do I send comments about this document?

Send comments, suggestions etc via email to the developer newsgroup
info-gnuplot-beta@Dartmouth.EDU .

General Information

What is gnuplot?

Gnuplot is a command-driven interactive function plotting program. It can be
used to plot functions and data points in both two- and three-dimensional
plots in many different formats, and will accommodate many of the needs of
today's scientists for graphic data representation. Gnuplot is copyrighted,
but freely distributable; you don't have to pay for it. This document
describes gnuplot Version 3.7.

How did it come about and why is it called gnuplot?

The authors of gnuplot are: Thomas Williams, Colin Kelley, Russell Lang,
Dave Kotz, John Campbell, Gershon Elber, Alexander Woo and many others.

The following quote comes from Thomas Williams:

     I was taking a differential equation class and Colin was taking
     Electromagnetics, we both thought it'd be helpful to visualize the
     mathematics behind them. We were both working as sys admin for an
     EE VLSI lab, so we had the graphics terminals and the time to do
     some coding. The posting was better received than we expected, and
     prompted us to add some, albeit lame, support for file data.

     Any reference to GNUplot is incorrect. The real name of the
     program is "gnuplot". You see people use "Gnuplot" quite a bit
     because many of us have an aversion to starting a sentence with a
     lower case letter, even in the case of proper nouns and titles.
     Gnuplot is not related to the GNU project or the FSF in any but
     the most peripheral sense. Our software was designed completely
     independently and the name "gnuplot" was actually a compromise. I
     wanted to call it "llamaplot" and Colin wanted to call it "nplot."
     We agreed that "newplot" was acceptable but, we then discovered
     that there was an absolutely ghastly pascal program of that name
     that the Computer Science Dept. occasionally used. I decided that
     "gnuplot" would make a nice pun and after a fashion Colin agreed.

Does gnuplot have anything to do with the FSF and the GNU project?

Gnuplot is neither written nor maintained by the FSF. It is not covered by
the General Public License, either. It used to be distributed by the FSF,
however, due to licensing issues it is no longer.

What does gnuplot offer?

   * Plotting of two-dimensional functions and data points in many different
     styles (points, lines, error bars)
   * computations in integer, float and complex arithmetic
   * plotting of three-dimensional data points and surfaces in many
     different styles (contour plot, mesh).
   * support for complex arithmetic
   * self - defined functions
   * support for a large number of operating systems, graphics file formats
     and devices
   * extensive on-line help
   * labels for title, axes, data points
   * command line editing and history on most platforms

Is gnuplot suitable for batch processing?

Yes. You can read in files from the command line, or you can redirect your
standard input to read from a file. Both data and command files can be
generated automatically, from data acquisition programs or whatever else you
use.

Can I run gnuplot on my computer?

Gnuplot is available for a number of platforms. These are: Unix (X11 and
NeXTSTEP), VAX/VMS, OS/2, MS-DOS, Amiga, MS-Windows, OS-9/68k, Atari ST and
the Macintosh. Modifications for NEC PC-9801 are said to exist (where?).

Legalize it!

Gnuplot is freeware authored by a collection of volunteers, who cannot make
any legal statement about the compliance or non-compliance of gnuplot or its
uses. There is also no warranty whatsoever. Use at your own risk.

Citing from the README of a mathematical subroutine package by R. Freund:

     For all intent and purpose, any description of what the codes are
     doing should be construed as being a note of what we thought the
     codes did on our machine on a particular Tuesday of last year. If
     you're really lucky, they might do the same for you someday. Then
     again, do you really feel *that* lucky?

Is gnuplot Y2K compliant?

Gnuplot's compliance depends in part on the compliance of the underlying
operating system and hardware. The only use gnuplot makes of a system-
supplied date is in the "set timestamp" command, which simply echos the date
on the plot. If the underlying OS cannot produce an accurate time string,
then the "set timestamp" command may fail to print the correct date on
plots.

In gnuplot 3.5, if the user chooses to use %y in a timestamp format, rather
than %Y, it will print 2-digit rather than 4-digit years. The effects depend
on the importance you place on the timestamps printed on plots.

gnuplot 3.7 also allows the use of time/date data as variables, but the user
has complete control over the input format of the data and the output format
of the tic labels - the same 2-digit "%y" (interpreted as 1900+) and 4-digit
"%Y" formats are both available. But again, these are user-specifiable, so
if there is a Y2K problem here, it is the responsibility of the user.

Of course, gnuplot is built by executing a makefile, which may well be
date-dependent. So if the operating system has a Y2K problem, the process of
building a new executable of gnuplot may be affected. But that wouldn't be a
problem with gnuplot per se.

IMPORTANT NOTICE

As of gnuplot beta version 3.7.0.9, the interpretation of the "%y" two digit
year specifier was changed in accordance with the recommendations of The
Open Group and all major Unix vendors. When a century is not otherwise
specified, values in the range 69-99 refer to the twentieth century and
values in the range 00-68 refer to the twenty-first century. Be very careful
when interpreting 2-digit year expressions.

Setting it up

What is the current version of gnuplot?

The current version of gnuplot is 3.7, which has many improvements over 3.5.
3.6 was never released to avoid confusions with the beta versions.

Where can I get gnuplot?

The source distribution ("gnuplot-3.7.tar.gz" or a similar name) is
available from the official distribution site and its mirrors.

The main server is ftp.ucc.ie in /pub/gnuplot/ . This server is mirrored by
several others, among those are
 mirror.aarnet.edu.au in /pub/gnuplot/ ,

 ftp.dartmouth.edu in /pub/gnuplot/ ,

 ftp.irisa.fr in /pub/gnuplot/ , and

 ftp.gnuplot.vt.edu in /pub/gnuplot/

You can also have a look at the following WWW-pages which provide a source
to obtain Gnuplot:
 http://members.theglobe.com/gnuplot/

 http://www.geocities.com/SiliconValley/Foothills/6647/

 http://mirror.aarnet.edu.au/pub/gnuplot/

The Macintosh version will be available (hopefully) from
http://users.ece.gatech.edu/ schooley/

Source and binary distributions for the Amiga are available on Aminet
ftp.wustl.edu in  aminet/ and its mirrors, for example ftp.uni-kl.de,
oes.orst.edu or ftp.luth.se.

MS-DOS and MS-Windows binaries are available from the above servers and are
called gp37dos.zip, gp37dj.zip, gp37w16.zip, gp37mgw.zip, gnuplot3.7cyg.zip.

OS/2 2.x binaries are called gp37os2.zip.

The NeXTSTEP front end can be found at next-ftp.peak.org in
/pub/next/binaries/plotting/Gnuplot1.2_bin.tar.Z .

A version for OS-9/68K can be found at cabrales.cs.wisc.edu in
/pub/OSK/GRAPHICS/gnuplot32x.tar.Z ; it includes both X-Windows and non -
X-windows versions.

Versions for the Atari ST and TT, which include some GEM windowing support,
are available from ftp.uni-kl.de in /pub/atari/graphics/ , as gplt35st.zip
and gplt35tt.zip. They work best under MiNT.

Executable files, plus documentation in Japanese, exist for the X680x0 on
ftp.csis.oita-u.ac.jp in /pub/x68k/fj.binaries.x68000/vol2 .

It is a good idea to look for a nearby ftp site when downloading things. You
can use archie for this. See if an archie client is installed at your system
(by simply typing archie at the command prompt), or send mail to
archie@sura.net with the word 'help' in both the subject line and the body
of the mail. However, be aware that the version you find at a near ftp site
may well be out of date; check the last modification date and the number of
bytes against the newest release at one of the official servers.

How do I get gnuplot to compile on my system?

As you would any other installation. Read the files README.1ST and README.

For Unix, use configure and make. For DOS, if you are using bash and DJGPP,
you can just run djconfig.sh. For other platforms, copy the relevant
makefile from config/ to src, change to src and run make.

What documentation is there, and how do I get it?

The documentation is included in the source distribution. Look at the docs
subdirectory, where you'll find

   * a Unix man page, which says how to start gnuplot
   * a help file, which also can be printed as a manual
   * a tutorial on using gnuplot with LaTeX
   * a quick reference summary sheet for TeX only

PostScript copies of the documentation can be ftp'd from ftp.dartmouth.edu
in /pub/gnuplot , as manual.ps.Z and tutorial.ps.Z

The documentation is built during the installation if you have LATEX
installed on your system, look in the directories docs and tutorial.

Working with it.

How do I get help?

Read this document.

Give the 'help' command at the initial prompt. After that, keep looking
through the keywords. Good starting points are 'plot' and 'set'.

Read the manual, if you have it.

Look through the demo subdirectory; it should give you some ideas.

Ask your colleagues, the system administrator or the person who set up
gnuplot.

Post a question to comp.graphics.apps.gnuplot or send mail to the gatewayed
mailing list info-gnuplot@dartmouth.edu . If you want to subscribe to the
mailing list, send a mail to majordomo@dartmouth.edu with the body of the
message being 'subscribe info-gnuplot'. Please don't do this if you can get
comp.graphics.apps.gnuplot directly. If you pose a question there, it is
considered good form to solicit e-mail replies and post a summary.

How do I print out my graphs?

The kind of output produced is determined by the 'set terminal' command; for
example, 'set terminal postscript' will produce the graph in PostScript
format. Output can be redirected using the 'set output' command.

As an example, the following prints out a graph of sin(x) on a Unix machine
running the X Window system.

gnuplot> plot [-6:6] sin(x)
gnuplot> set terminal postscript
Terminal type set to 'postscript'
Options are 'landscape monochrome "Courier" 14'
gnuplot> set output "sin.ps"
gnuplot> replot
gnuplot> set output              # set output back to default
gnuplot> set terminal x11        # ditto for terminal type
gnuplot> ! lp -ops sin.ps        # print PS File (site dependent)
request id is lprint-3433 (standard input)
lp: printed file sin.ps on fg20.rz.uni-karlsruhe.de (5068 Byte)
!
gnuplot>

How do I include my graphs in <word processor>?

Basically, you save your plot to a file in a format your word processor can
understand (using "set term" and "set output", see above), and then you read
in the plot from your word processor.

Details depend on the kind of word processor you use; use "set term" to get
a list of available file formats.

Many word processors can use Encapsulated PostScript for graphs. This can be
generated by the "set terminal postscript eps" command. Most MS-DOS word
processors understand HPGL (terminal type hpgl).

With TeX, it depends on what you use to print your dvi files. If you use
dvips or dvi2ps, you can use Encapsulated PostScript. For emTeX (popular for
MS-DOS), you can use emTeX, otherwise use the LaTeX terminal type, which
generates a picture environment.

If nothing else helps, try using the pgm or ppm format and converting it to
a bitmap format your favourite word processor can understand. An invaluable
tool for this is Jef Poskanzer's PBMPLUS package.

The PBMPLUS package is available in the contrib distribution for the X
Window System. The original site for this is ftp.x.org in /contrib/ . There
are many mirrors, e.g. ftp.th-darmstadt.de in /pub/X11/contrib/ or .
sunsite.unc.edu in /pub/X11/contrib/ .

The most recent release of pbm by the author is dated December 91 and is
called pbmplus10dec91.tar.Z.

There is new version including lots of patches from the net that is not
maintained by the author called netpbm, with the newest version called
netpbm-7dec1993.tar.gz.

Check archie (see Q2.2 ) for an archive site near you.

How do I post-process a gnuplot graph?

This depends on the terminal type you use.

You can use the terminal type fig (you may need to recompile gnuplot to
enable this terminal type, by putting #define FIG into <term.h>), and use
the xfig drawing program to edit the plot afterwards. You can obtain the
xfig program from its web site http://www.xfig.org .

You may use the tgif terminal, which creates output suitable for reading
within tgif (http://bourbon.cs.umd.edu:8001/tgif/ ), an interactive 2-D
drawing tool under X11.

Both tgif and xfig can also be obtained from the X Window contrib
distribution (see Q3.3).

Another possibility for modifying PostScript output appears to be
IslandDraw, a commercial drawing program for UNIX workstations.

For Windows, there is another alternative, PageDraw. It can post-process AI
(Adobe Illustrator) files, and has a converter from PostScript to AI. It can
be downloaded from http://www.wix.com/PageDraw/ .

How do I change symbol size, line thickness and the like?

Again, this depends on the terminal type. For PostScript, you can edit the
generated PostScript file. An overview of what means what in the PostScript
files gnuplot generates can be found at picard.tamu.edu in /pub/gnuplot/ as
gs-ps.doc. A general introduction to PostScript can be found at
unix.hensa.ac.uk in /pub/misc/ukc.reports/comp.sci/reports/ as 11-92.ps.Z.

How do I generate plots in the GIF format?

If gnuplot was compiled with the external GD library, there is a gif
terminal.

Can I animate my graphs?

First have a look at animate.dem in the demo directory of gnuplot.

Then have a look at the tool whirlgif 3.04, available at
http://www.danbbs.dk/ dineo/whirlgif . It reads run-length encoded gifs and
packs them into a minimal animation. On the web-pages you will find a manual
and an example.

How do I plot implicit defined graphs?

Implicit graphs or curves cannot be plotted directly in gnuplot. However
there is a workaround.

         # as example. Place your definition in the following line
         f(x,y) = y - x**2 / tan(y)
         set contour base
         set cntrparam levels discrete 0.0
         set nosurface
         set term table
         set out 'curve.dat'
         splot f(x,y)
         set out
         set term {your usual terminal for interactive work}
         plot 'curve.dat' w l

The trick is to draw the single contour line z=0 of the surface z=f(x,y),
and store the resulting contour curve to a gnuplot datafile.

Wanted features?

What's new in gnuplot 3.7?

Too many things to be named here. Please refer to the NEWS file in the
source distribution.

Does gnuplot have hidden line removal?

Version 3.7 supports hidden line removal on all platforms; use the command
set hidden3d.

The 16-bit binaries of gnuplot support the hidden line removal only
partially as the hidden-line algorithm may hit the 640k memory limit.

Does gnuplot support bar-charts/histograms/boxes?

Use the style "with boxes" for bar charts. To get filled boxes, you can try
a modification by Steve Cumming and jturk, available via ftp from the
contrib directory ftp.ucc.ie in /pub/gnuplot/contrib/gpl37fboxpatch.tar.gz .

Does gnuplot support pie charts?

It's not possible in gnuplot, but have a look at
http://www.usf.uni-osnabrueck.de/ breiter/tools/piechart/piecharts.en.html

Does gnuplot quarterly time charts?

It's not possible in gnuplot, but have a look at
http://ricardo.ecn.wfu.edu/ cottrell/qplot . The corresponding file
qplot.zip can be obtained from the contrib directory on any gnuplot server.

Does gnuplot support multiple y-axes on a single plot?

Yes. You can have 2 x- and 2 y-axes per plot. See "plot".

Can I put multiple pages on one page?

Yes. "set multiplot"

Can I put both data files and commands into a single file?

This feature is in gnuplot 3.7 when using the set multiplot command.

Can I put Greek letters and super/subscripts into my labels?

You might try using the LaTeX terminal type and putting text like
"\alpha_{3}" into it.

The enhanced option in the postscript terminal is also able to use sub- and
superscripts.

Can I do 1:1 scaling of axes?

Use "set size square".

Can I put tic marks for x and y axes into 3d plots?

Use the "with boxes" option.

Does gnuplot support a driver for <graphics format>?

To see a list of the available graphic drivers for your installation of
gnuplot, type "set term".

Some graphics drivers are included in the normal distribution, but are
uncommented by default. If you want to use them, you'll have to change
 gnuplot/term.h, and recompile.

Can I put different text sizes into my plots?

Some terminals, like the postscript terminal can, others can't. Look at the
help for the different terminals.

How do I modify gnuplot, and apply 'patches'?

For this, you will need to recompile gnuplot.

Modifications people make are either done by replacing files, such as
terminal drivers, or by 'patching'. If a file is a replacement, it will
probably tell you in its README or in the lines at the beginning.

To patch a file, you need Larry Wall's patch utility. On many UNIX systems,
it is already installed; do a man patch to check. If it isn't, you'll have
to get it; it can be found wherever GNU software is archived.

How do I skip data points?

By specifying ? as a data value, as in

        1 2
        2 3
        3 ?
        4 5

How do I plot every nth point?

This can be specified with the various options for the command "plot".

How do I plot a vertical line?

Depending on context, the main methods are:

   * set arrow .... .... nohead where you have to compute explicitly the
     strat and the end of the arrow.
   * generate (inlined) datapoints and plot them
   * switch to parametric mode

Miscellaneous

I've found a bug, what do I do?

First, try to see whether it actually is a bug, or whether it is a feature
which may be turned off by some obscure set-command.

Next, see whether you have an old version of gnuplot; if you do, chances are
the bug has been fixed in a newer release.

If, after checking these things, you still are convinced that there is a
bug, proceed as follows. If you have a fairly general sort of bug report,
posting to comp.graphics.apps.gnuplot is probably the way to go. If you have
investigated a problem in detail, especially if you have a context diff that
fixes the problem, please e-email a report to bug-gnuplot@dartmouth.edu .

The bug-gnuplot list is for reporting and collecting bug fixes, the
comp.graphics.apps.gnuplot newsgroup will be more help for finding work
arounds or actually solving gnuplot related problems. If you do send in a
bug report, be sure and include the version of gnuplot (including
patchlevel) as shown by the command "show version long", terminal driver,
operating system, an exact description of the bug and input which can
reproduce the bug. Failure to indicate these details can render a solution
to your problem almost impossible. Also, any context diffs should be
referenced against the latest official version of gnuplot if at all
possible.

Can I use gnuplot routines for my own programs?

Yes. John Campbell jdc@nauvax.ucc.nau.edu has written gplotlib, a version of
gnuplot as C subroutines callable from a C program. This is available as
gplotlib.tar.Z wat ftp.nau.edu in /pub/gplotlib.tar.Z . This library has
been updated to be compatible with version 3.5.

On systems supporting the pipes, you can pipe commands to gnuplot from other
programs.

What extensions have people made to gnuplot? Where can I get them?

Extensions are available from ftp.ucc.ie in /pub/gnuplot/contrib/

Some extensions available:

   * barchart_via_fig: awk scripts to produce barcharts with filled boxes.
   * date-errorbar: allows dates in the hi/lo fields for errorbars.
   * gp37os2-mouse: OS/2 binaries with mouse support (feature included in
     current beta versions).
   * perltk: A perl/tk canvas widget.
   * polyg.patch: Implements a polygon plotting style.
   * xgfe: graphical front end using the Qt widgets available at
     http://jasper.he.net/ dmishee/xgfe/xgfe.html .

Can I do heavy-duty data processing with gnuplot?

Gnuplot alone is not suited very well for this. One thing you might try is
fudgit, an interactive multi-purpose fitting program written by Martin-D.
Lacasse (isaac@frodo.physics.mcgill.ca). It can use gnuplot as its graphics
back end and is available from
ftp.physics.mcgill.ca/pub/Fudgit/fudgit_2.33.tar.Z in a nd from the main
Linux server, tsx-11.mit.edu and its numerous mirrors around the world as
/pub/linux/sources/usr.bin/fudgit-2.33.tar.z. Versions are available for
AIX, Data General, HP-UX, IRIX 4, Linux, NeXT, Sun3, Sun4, Ultrix, OS/2 and
MS-DOS. The MS-DOS version is available on simtel20 mirrors (simtel20 itself
has closed down) in the "math" subdirectory as fudg_231.zip.

Carsten Grammes has written a fitting program which goes together with
gnuplot; it is merged into gnuplot 3.7.

Michael Courtney has written a program called lsqrft, which uses the
Levenberg-Marquardt - Algorithm for fitting data to a function. It is
avialiable from ftp.cdrom.com in /pub/os2/2_x/unix/lsqrft13.zip ; sources,
which should compile on Unix, and executables for MS-DOS and OS/2 2.x are
included. There is an interface to the OS/2 presentation manager.

You might also want to look at the applications developed by the Software
Tools Group (STG) at the National Center for Supercomputing Applications.
Ftp to ftp.ncsa.uiuc.edu [141.142.20.50] and get the file README.BROCHURE
for more information.

You can also try pgperl, an integration of the PGPLOT plotting package with
Perl 5. Information can be found at
http://www.ast.cam.ac.uk/ kgb/pgperl.html , the source is available from
ftp.ast.cam.ac.uk in /pub/kgb/pgperl/ or linux.nrao.edu in
/pub/packages/pgperl/ .

Another possibility is Octave. To quote from its README: Octave is a
high-level language, primarily intended for numerical computations. It
provides a convenient command line interface for solving linear and
nonlinear problems numerically. The latest released version of Octave is
always available via anonymous ftp from bevo.che.wisc.edu in /pub/octave .

I have ported gnuplot to another system, or patched it. What do I do?

If your patch is small, mail it to info-gnuplot-beta@dartmouth.edu , with a
thorough description of what the patch is supposed to do, which version of
gnuplot it is relative to, etc. Also, you can send notification of the patch
to the FAQ maintainer, if you want a mention. Please don't send the patch
itself to me.

If your modifications are extensive (such as a port to another system),
place them on a web/ftp site for download. There is currently no possibility
to upload patches. Send a note to info-gnuplot-beta@dartmouth.edu on where
to find the patch, what it is supposed to do, which version of gnuplot it is
to be applied against. For the time being (summer 1999) you can also send
the patch to gnuplot@ftp.ucc.ie .

I want to help in developing the next version of gnuplot. What can I do?

Join the gnuplot beta test mailing list by sending a mail containing the
line subscribe info-gnuplot-beta in the body (not the subject) of the mail
to Majordomo@Dartmouth.EDU .

Making life easier

How do I plot two functions in non-overlapping regions?

Use a parametric plot. An example:

    set parametric
    a=1
    b=3
    c=2
    d=4
    x1(t) = a+(b-a)*t
    x2(t) = c+(d-c)*t
    f1(x) = sin(x)
    f2(x) = x**2/8
    plot [t=0:1] x1(t),f1(x1(t)) title "f1", x2(t), f2(x2(t)) title "f2"

You can also use gnuplot's ability to ignore mathematically undefined
expressions: the expression 1/0 is silently ignored, thus a construction
like

    gnuplot> set xran [-10:10]
    gnuplot> plot (x<0?1/0: x**2)

plots a quadratic function only for x < 0. (comment: that's a stupid
example. Would anybody know a better one?)

How do I run my data through a filter before plotting?

If your system supports the popen() function, as Unix does, you should be
able to run the output through another process, for example a short awk
program, such as

        gnuplot> plot "< awk ' { print $1, $3/$2 } ' file.in"

The plot command is very powerful and is able to do some arithmetic on
datafiles. See "help plot".

How do I make it easier to use gnuplot with LaTeX?

There is a set of LaTeX macros and shell scripts that are meant to make your
life easier when using gnuplot with LaTeX. This package can be found on
ftp.dartmouth.edu in pub/gnuplot/latex.shar , by David Kotz. For example,
the program "plotskel" can turn a gnuplot-output file plot.tex into a
skeleton file skel.tex, that has the same size as the original plot but
contains no graph. With the right macros, the skeleton can be used for
preliminary LaTeX passes, reserving the full graph for later passes, saving
tremendous amounts of time.

How do I save and restore my settings?

Use the "save" and "load" commands for this; see "help save" and "help load"
for details.

How do I plot lines (not grids) using splot?

If the data in a data file for splot is arranged in such a way that each one
has the same number of data points (using blank lines as delimiters, as
usual), splot will plot the data with a grid. If you want to plot just
lines, use a different number of data entries (you can do this by doubling
the last data point, for example). Don't forget to set parametric mode, of
course.

How do I plot a function f(x,y) which is bounded by other functions in the
x-y plain?

An example:

        f(x,y) = x**2 + y **2
        x(u) = 3*u
        yu(x) = x**2
        yl(x) = -x**2
        set parametric
        set cont
        splot [0:1] [0:1] u,yl(x(u))+(yu(x(u)) - yl(x(u)))*v,\
        f(x(u), (yu(x(u)) - yl(x(u)))*v)

How do I get rid of <feature in a plot>?

Usually, there is a set command to do this; do a gnuplot> ?set no for a
short overview.

How do I call gnuplot from my own programs?

There's a code which works for a UNIX system, using (efficient) named pipes.
On M$ Windows platforms, due to the lacking standard input of GUI programs,
you need to use the C-code pgnuplot written by Hans-Bernhard Broeker
broeker@physik.rwth-aachen.de . You can obtain this file on a ftp-server
carrying the source for gnuplot.

What if I need h-bar (Planck's constant)?

There is no predefined varaible like pi. However to put h-bar as a character
into the label, you must use the PostScript terminal. You can play around
with constructs like @{/=56 -} {/=24 h} \verb or {/=8 @{/Symbol=24 -} _{/=14
h}}\verb In the latter, the "-" (a long one in /Symbol) is non-spacing and
24-pt. The 14-pt "h" is offset by an 8-pt space (which is the space
preceding the "_") but smaller, since it's written as a subscript. But these
don't look too much like the hbar we're used to, since the bar is horizontal
instead of sloped. I don't see a way to get that. I tried using an accent (
264 in isoLatin encoding), but I haven't found a way to scale and position
the pieces correctly.

One more possibility would be {/=14 @^{/Symbol=10 -}{/=14 h}}\verb.

(This is a hint by Richard Crawford).

Known Problems

Gnuplot is not plotting any points under X11! How come?

Very probably, you still are using an old version of gnuplot_x11. Remove
that, then do a full installation.

On VMS, you need to make several symbols:

        $ gnuplot_x11 :== $disk:[directory]gnuplot_x11
        $ gnuplot :== $disk:[directory]gnuplot.exe
        $ def/job GNUPLOT$HELP disk:[directory]gnuplot.hlb

Then run gnuplot from your command line, and use "set term x11".

My isoline data generated by a Fortran program is not handled correctly.
What can I do?

Update to the newest gnuplot. gnuplot 3.7 is able to read Fortran-style
files where a blanc line can contain more than a linefeed.

Why does gnuplot ignore my very small numbers?

Gnuplot treats all numbers less than 1e-08 as zero, by default. Thus, if you
are trying to plot a collection of very small numbers, they may be plotted
as zero. Worse, if you're plotting on a log scale, they will be off scale.
Or, if the whole set of numbers is "zero", your range may be considered
empty:

        gnuplot> plot 'test1'
        Warning: empty y range [4.047e-19:3e-11], adjusting to [-1:1]
        gnuplot> set yrange [4e-19:3e-11]
        gnuplot> plot 'test1'
                     ^
         y range is less than `zero`

The solution is to change gnuplot's idea of "zero":

        gnuplot> set zero 1e-20

For more information, "help set zero"

Gnuplot is plotting nothing when run via gnuplot <filename>! What can I do?

Put a pause -1 after the plot command in the file. On an X11-windows system,
you can also use the -persist option, the X11 window is then not closed.
Close the X11 window by typing "q" when the focus is on it.

My formulas are giving me nonsense results! What's going on?

Gnuplot does integer, and not floating point, arithmetic on integer
expressions. For example, the expression 1/3 evaluates to zero. If you want
floating point expressions, supply trailing dots for your floating point
numbers. Example:

        gnuplot> print 1/3
                0
        gnuplot> print 1./3.
                0.333333

This way of evaluating integer expressions is shared by both C and Fortran.

My Linux gnuplot complains about a missing gnuplot_x11. What is wrong?

The binary gnuplot distribution from sunsite.unc.edu and its mirrors in
Linux/apps/math/gplotbin.tgz is missing one executable that is necessary to
access the x11 terminal. Please install gnuplot from another Linux
distribution, e.g. Slackware.

Set output 'filename' isn't outputting everything it should!

You need to flush the output with a closing 'set output'.

When using the LATEX-terminal, there is an error during the LATEX-run!

Please upgrade to gnuplot 3.7. Some versions of its beta-release had a
problem in the LATEX-terminal.

Credits

This list was initially compiled by John Fletcher with contributions from
Russell Lang, John Campbell, David Kotz, Rob Cunningham, Daniel Lewart and
Alex Woo. Reworked by Thomas Koenig from a draft by Alex Woo, with
corrections and additions from Alex Woo, John Campbell, Russell Lang, David
Kotz and many corrections from Daniel Lewart. Again reworked by Jürgen
v.Hagen with corrections by A. Mai, Lars Hecking and other people.

About this document ...

Gnuplot FAQ

This document was generated using the LaTeX2HTML translator Version 98.1p1
release (March 2nd, 1998)

Copyright © 1993, 1994, 1995, 1996, 1997, Nikos Drakos, Computer Based
Learning Unit, University of Leeds.

The command line arguments were:
latex2html -split 0 gnuplot-faq.tex.

The translation was initiated by Juergen von Hagen on 1999-07-05
  ------------------------------------------------------------------------
[next] [up] [previous]
Juergen von Hagen
1999-07-05
